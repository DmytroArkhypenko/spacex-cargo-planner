(this["webpackJsonpspacex-cargo-planner"]=this["webpackJsonpspacex-cargo-planner"]||[]).push([[0],{34:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),s=n.n(a),r=n(15),i=n.n(r),o=(n(34),n(7)),l=n(11),u=(n(39),n(3)),j=(n(40),n(41),function(e){var t=e.title,n=e.func;return Object(c.jsx)("button",{className:"styled_button",type:"button",onClick:n,children:t})}),b="SEARCH_INPUT",p=(n(42),function(){var e=Object(o.b)(),t=function(t){var n;t.preventDefault(),e((n=t.target.value,{type:b,query:n}))};return Object(c.jsx)("div",{className:"search_container",children:Object(c.jsx)("input",{className:"search_container__input",type:"text",onChange:function(e){return t(e)},placeholder:"Search company ..."})})}),d=n(24),h=n(12),m="SET_SHIPMENTS",_="SET_SHIPMENT",O=function(){try{var e=window.localStorage.getItem("shipments");return null===e?[]:JSON.parse(e)}catch(t){return}}();void 0===O&&(O=[]);var f=n(9),x=n(27),v=n(28),g=Object(f.combineReducers)({query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return t.query;default:return e}},shipments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(h.a)(t.shipments);case _:return Object(h.a)(e).map((function(e){return e.id===t.payload.id?Object(d.a)(Object(d.a)({},e),{},{boxes:t.payload.boxesStr}):e}));default:return e}}}),y=function(e){return""===e.query?e.shipments:Object(h.a)(e.shipments).filter((function(t){return null!==t.name&&t.name.toLowerCase().includes(e.query.toLowerCase())}))},N=function(e){return e.shipments},S=Object(f.createStore)(g,Object(x.composeWithDevTools)(Object(f.applyMiddleware)(v.a))),w=function(){var e=Object(o.b)(),t=Object(o.c)(N);return Object(c.jsxs)("div",{className:"header",children:[Object(c.jsx)("h1",{className:"header__title",children:"Cargo Planner"}),Object(c.jsx)(p,{}),Object(c.jsxs)("div",{className:"actions",children:[Object(c.jsx)(j,{title:"Load",func:function(){fetch("".concat("https://bitbucket.org/artur_cation/spacex-cargo-planner/raw/1a9e1c0ff090a114999c47b7e9388fbc88bd083b/shipments.json")).then((function(e){if(!e.ok)throw new Error("".concat(e.status));return e.json()})).then((function(t){return e({type:m,shipments:t})}))}}),Object(c.jsx)(j,{title:"Save",func:function(){var e;e=t,window.localStorage.setItem("shipments",JSON.stringify(e))}})]})]})},I=n(49),C=(n(43),n(44),function(e){var t=e.id,n=e.name;return Object(c.jsx)("div",{className:"company__item",children:Object(c.jsx)(l.b,{className:"company__item__link",to:"/shipmentId=".concat(t),children:n})})}),E=function(){var e=Object(o.c)(y);return e.length?Object(c.jsx)("div",{className:"companies_list",children:e.map((function(e){return Object(c.jsx)(C,{id:e.id,name:e.name},Object(I.a)())}))}):Object(c.jsxs)("div",{className:"message",children:[Object(c.jsx)("h2",{className:"message__title",children:"Ups ..."}),Object(c.jsx)("p",{className:"message__body",children:"Press load button to get shipments!"})]})},T=n(18),k=(n(46),function(e){if(!e)return 0;for(var t=e.split(","),n=0;n<t.length;n+=1)t[n]=parseFloat(t[n]),Number.isNaN(t[n])&&(t[n]=0);var c=t.reduce((function(e,t){return e+t}));return Math.ceil(c/10)}),q=function(){var e=Object(o.b)(),t=Object(u.g)().shipmentId,n=Object(o.c)(N).filter((function(e){return e.id===t}))[0],s=n.name,r=n.email,i=n.boxes,l=Object(a.useState)(0),j=Object(T.a)(l,2),b=j[0],p=j[1],d=Object(a.useState)(""),h=Object(T.a)(d,2),m=h[0],O=h[1],f=Object(a.useState)(""),x=Object(T.a)(f,2),v=x[0],g=x[1],y=function(n){n.preventDefault();var c=n.target.value;(function(e){if(""===e)return!0;if(e){for(var t=e.split(","),n=0;n<t.length;n+=1)if(!Number.isFinite(+t[n]))return!1;if(t.length>10)return!1}return!0})(c)?(O(c),p(k(c)),g(""),e({type:_,payload:{id:t,boxesStr:c}})):(g("The string is Invalid!"),p(0))};return Object(a.useEffect)((function(){i||(O(""),p(0)),O(i),p(k(i))}),[t,m]),Object(c.jsxs)("div",{className:"company_page",children:[Object(c.jsx)("h2",{className:"company_page__title",children:s}),Object(c.jsx)("p",{className:"company_page__email",children:r}),Object(c.jsxs)("p",{className:"company_page__bays",children:["Number of required cargo bays:",Object(c.jsx)("span",{children:b})]}),Object(c.jsxs)("div",{className:"company_page__boxes",children:[Object(c.jsx)("label",{className:"company_page__boxes__label",htmlFor:"boxes_input",children:"Cargo boxes"}),Object(c.jsx)("div",{className:"company_page__boxes__container",children:Object(c.jsx)("input",{id:"boxes_input",className:"company_page__boxes__container__input",type:"text",onChange:function(e){return y(e)},value:m||""})}),Object(c.jsx)("p",{className:"company_page__boxes__error",children:v})]})]})};var M=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"app",children:[Object(c.jsx)(w,{}),Object(c.jsxs)("div",{className:"app__page",children:[Object(c.jsx)("div",{className:"app__page__sidebar",children:Object(c.jsx)(E,{})}),Object(c.jsx)("div",{className:"app__page__content",children:Object(c.jsxs)(u.d,{children:[Object(c.jsx)(u.b,{path:"/shipmentId=:shipmentId",exact:!0,children:Object(c.jsx)(q,{})}),Object(c.jsx)(u.a,{to:"/"})]})})]})]})})};i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(l.a,{children:Object(c.jsx)(o.a,{store:S,children:Object(c.jsx)(M,{})})})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.e148da05.chunk.js.map